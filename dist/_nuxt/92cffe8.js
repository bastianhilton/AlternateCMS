(window.webpackJsonp=window.webpackJsonp||[]).push([[148],{1057:function(u,p){var a={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"MyQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"segments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"where"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"id"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"_eq"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}]}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"website"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"customers"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"created_at"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"apply_to"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:179}};a.loc.source={body:`query MyQuery ($id: Int){\r
  segments (where: {id: {_eq: $id}}){\r
    id\r
    name\r
    status\r
    website\r
    customers\r
    description\r
    created_at\r
    apply_to\r
  }\r
}\r
`,name:"GraphQL request",locationOffset:{line:1,column:1}};var d={};function _(e){return e.filter(function(n){if(n.kind!=="FragmentDefinition")return!0;var t=n.name.value;return d[t]?!1:(d[t]=!0,!0)})}function o(e,n){if(e.kind==="FragmentSpread")n.add(e.name.value);else if(e.kind==="VariableDefinition"){var t=e.type;t.kind==="NamedType"&&n.add(t.name.value)}e.selectionSet&&e.selectionSet.selections.forEach(function(s){o(s,n)}),e.variableDefinitions&&e.variableDefinitions.forEach(function(s){o(s,n)}),e.definitions&&e.definitions.forEach(function(s){o(s,n)})}var f={};(function(){a.definitions.forEach(function(n){if(n.name){var t=new Set;o(n,t),f[n.name.value]=t}})})();function y(e,n){for(var t=0;t<e.definitions.length;t++){var s=e.definitions[t];if(s.name&&s.name.value==n)return s}}function b(e,n){var t={kind:e.kind,definitions:[y(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var s=f[n]||new Set,v=new Set,c=new Set;for(s.forEach(function(l){c.add(l)});c.size>0;){var S=c;c=new Set,S.forEach(function(l){if(!v.has(l)){v.add(l);var m=f[l]||new Set;m.forEach(function(O){c.add(O)})}})}return v.forEach(function(l){var m=y(e,l);m&&t.definitions.push(m)}),t}u.exports=a,u.exports.MyQuery=b(a,"MyQuery")},1058:function(u,p,a){"use strict";var d=a(734),_=a.n(d)},1059:function(u,p,a){var d=a(51),_=d(!1);_.push([u.i,"input,option,select{padding:5px}li{display:inline-block}",""]),u.exports=_},1292:function(u,p,a){"use strict";a.r(p);var d=function(){var r=this,h=r.$createElement,i=r._self._c||h;return i("div",r._l(r.segments,function(k){return i("FormulateForm",{key:k.id,attrs:{method:"POST"},on:{submit:function(j){j.preventDefault()}}},[i("div",{staticClass:"table table-responsive"},[i("table",{staticClass:"table"},[i("thead",[i("tr",[i("th"),r._v(" "),i("th",{staticClass:"segmentAddOptions",attrs:{scope:"col"}},[i("li",[i("FormulateInput",{attrs:{type:"reset",label:"Reset"}})],1),r._v(" "),i("li",[i("FormulateInput",{attrs:{type:"submit",label:"Save"},on:{click:r.addSegment}})],1)])])]),r._v(" "),i("tbody",[i("tr",[i("td",{staticStyle:{"text-align":"right"}},[r._v("Segment Name")]),r._v(" "),i("td",[i("FormulateInput",{attrs:{type:"text",required:""}}),r._v(r._s(k.name))],1)]),r._v(" "),i("tr",[i("td",{staticStyle:{"text-align":"right"}},[r._v("Description")]),r._v(" "),i("td",[i("FormulateInput",{attrs:{type:"textarea",id:"description",name:"description",cols:"50",rows:"10",label:"Add a short Description"}}),r._v(r._s(k.description))],1)]),r._v(" "),i("tr",[i("td",{staticStyle:{"text-align":"right"}},[r._v("Assigned to Website")]),r._v(" "),i("td",[i("FormulateInput",{attrs:{name:"website",type:"url"}}),r._v(r._s(k.website))],1)])])])])])}),1)},_=[],o=a(6),f=a(546),y=a(42),b=a(158),e=a(1057),n=a.n(e),t=a(588),s=a.n(t),v,c,S=Object(b.a)(v||(v=Object(f.a)([`
  mutation delete_segments($id: Int!){
  delete_segments(where: {id: {_eq: $id}}){
    affected_rows
  }
}
`]))),l=Object(b.a)(c||(c=Object(f.a)([`
  mutation update_segments($id: Int!){
  update_segments(where: {id: {_eq: $id}}){
    affected_rows
  }
}
`]))),m={head:{name:"Edit Segment"},mounted:function(){this.forceRerender()},data:function(){return{componentKey:0}},methods:{deleteSegment:function(h){var i=this;return Object(o.a)(regeneratorRuntime.mark(function k(){return regeneratorRuntime.wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.next=2,i.$apollo.mutate({mutation:S,variables:{id:h.id},refetchQueries:[{query:s.a}]}).then(function(){i.$router.push({path:"../admin/segments/segments"})}).catch(function(w){return console.log(w)});case 2:case"end":return g.stop()}},k)}))()},updateSegment:function(h){var i=this;return Object(o.a)(regeneratorRuntime.mark(function k(){return regeneratorRuntime.wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.next=2,i.$apollo.mutate({mutation:l,variables:{id:h.id},refetchQueries:[{query:s.a}]});case 2:case"end":return g.stop()}},k)}))()},forceRerender:function(){this.componentKey+=1}},apollo:{segments:{query:n.a,prefetch:function(h){var i=h.route;return{id:i.params.id}},variables:function(){return{id:this.$route.params.id}}}}},O=m,x=a(1058),E=a(31),F=Object(E.a)(O,d,_,!1,null,null,null),D=p.default=F.exports},546:function(u,p,a){"use strict";a.d(p,"a",function(){return d});function d(_,o){return o||(o=_.slice(0)),Object.freeze(Object.defineProperties(_,{raw:{value:Object.freeze(o)}}))}},588:function(u,p){var a={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"MyQuery"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"segments"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"website"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"customers"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"created_at"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"apply_to"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:144}};a.loc.source={body:`query MyQuery {\r
  segments {\r
    id\r
    name\r
    status\r
    website\r
    customers\r
    description\r
    created_at\r
    apply_to\r
  }\r
}\r
`,name:"GraphQL request",locationOffset:{line:1,column:1}};var d={};function _(e){return e.filter(function(n){if(n.kind!=="FragmentDefinition")return!0;var t=n.name.value;return d[t]?!1:(d[t]=!0,!0)})}function o(e,n){if(e.kind==="FragmentSpread")n.add(e.name.value);else if(e.kind==="VariableDefinition"){var t=e.type;t.kind==="NamedType"&&n.add(t.name.value)}e.selectionSet&&e.selectionSet.selections.forEach(function(s){o(s,n)}),e.variableDefinitions&&e.variableDefinitions.forEach(function(s){o(s,n)}),e.definitions&&e.definitions.forEach(function(s){o(s,n)})}var f={};(function(){a.definitions.forEach(function(n){if(n.name){var t=new Set;o(n,t),f[n.name.value]=t}})})();function y(e,n){for(var t=0;t<e.definitions.length;t++){var s=e.definitions[t];if(s.name&&s.name.value==n)return s}}function b(e,n){var t={kind:e.kind,definitions:[y(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var s=f[n]||new Set,v=new Set,c=new Set;for(s.forEach(function(l){c.add(l)});c.size>0;){var S=c;c=new Set,S.forEach(function(l){if(!v.has(l)){v.add(l);var m=f[l]||new Set;m.forEach(function(O){c.add(O)})}})}return v.forEach(function(l){var m=y(e,l);m&&t.definitions.push(m)}),t}u.exports=a,u.exports.MyQuery=b(a,"MyQuery")},734:function(u,p,a){var d=a(1059);d.__esModule&&(d=d.default),typeof d=="string"&&(d=[[u.i,d,""]]),d.locals&&(u.exports=d.locals);var _=a(52).default,o=_("4334b3e8",d,!0,{sourceMap:!1})}}]);
