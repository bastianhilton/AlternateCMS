(window.webpackJsonp=window.webpackJsonp||[]).push([[78],{1165:function(l,m,t){"use strict";t.r(m);var s=function(){var n=this,o=n.$createElement,e=n._self._c||o;return e("div",[e("FormulateForm",{attrs:{method:"POST",enctype:"multipart/form-data"},on:{submit:function(u){u.preventDefault()}}},[e("nav",{staticClass:"navbar navbar-dark bg-dark"},[e("div",{staticClass:"container-fluid"},[e("a",{staticClass:"navbar-brand"},[e("button",{staticClass:"btn btn-warning",attrs:{type:"reset"}},[n._v("Reset")])]),n._v(" "),e("a",{staticClass:"navbar-brand"},[e("FormulateInput",{attrs:{type:"button",label:"Save Segment"},on:{click:n.addSegment}})],1)])]),n._v(" "),e("br"),n._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"col-3"},[e("div",{staticClass:"nav flex-column nav-tabs text-center",attrs:{id:"v-tabs-tab",role:"tablist","aria-orientation":"vertical"}},[e("a",{staticClass:"nav-link active",attrs:{id:"v-tabs-home-tab","data-mdb-toggle":"tab",href:"#v-tabs-home",role:"tab","aria-controls":"v-tabs-home","aria-selected":"true"}},[n._v("Create A New Segment")])])]),n._v(" "),e("div",{staticClass:"col-9"},[e("div",{staticClass:"tab-scope",attrs:{id:"v-tabs-tabContent"}},[e("div",{staticClass:"tab-pane fade show active",attrs:{id:"v-tabs-home",role:"tabpanel","aria-labelledby":"v-tabs-home-tab"}},[e("div",{staticClass:"table table-responsive"},[e("table",{staticClass:"table"},[e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"right"}},[n._v("Segment Name")]),n._v(" "),e("td",[e("FormulateInput",{attrs:{type:"text",required:""},model:{value:n.name,callback:function(u){n.name=u},expression:"name"}})],1)]),n._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"right"}},[n._v("Description")]),n._v(" "),e("td",[e("FormulateInput",{attrs:{type:"textarea",id:"description",name:"description",cols:"50",rows:"10",label:"Add a short Description"},model:{value:n.description,callback:function(u){n.description=u},expression:"description"}})],1)]),n._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"right"}},[n._v("Assigned to Website")]),n._v(" "),e("td",[e("FormulateInput",{attrs:{name:"website",type:"url"},model:{value:n.website,callback:function(u){n.website=u},expression:"website"}})],1)])])])])])])])])])],1)},_=[],c=t(6),b=t(546),h=t(42),x=t(25),a=t(13),i=t(59),r=t(158),d=t(588),p,f=Object(r.a)(p||(p=Object(b.a)([`
    mutation ($name:String!,$description:String,$website:String,$status:String,$apply_to:String){
    insert_segments(objects: {name: $name, description: $description, website: $website, status: $status, apply_to: $apply_to}) {
        affected_rows
        returning {
            name
            status
            website
            description
            apply_to
            }
  }
}`]))),S={data:function(){return{website:" ",name:" ",description:" ",status:" ",apply_to:" "}},methods:{addSegment:function(){var o=this;return Object(c.a)(regeneratorRuntime.mark(function e(){var u,j,O,k,C;return regeneratorRuntime.wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return u=o.name,j=o.status,O=o.description,k=o.website,C=o.apply_to,y.next=7,o.$apollo.mutate({mutation:f,variables:{name:u,description:O,website:k,status:j,apply_to:C},update:function(F,R){var N=R.data.insertSegments;try{var $=N.returning;console.log($),F.writeQuery({query:d.segments})}catch(M){console.error(M)}}}).then(function(){o.$router.push({path:"../customers/segments"})}).catch(function(E){return console.log(E)});case 7:o.name=" ",o.description=" ",o.website=" ",o.status=" ",o.apply_to=" ";case 12:case"end":return y.stop()}},e)}))()}},head:{title:"Add New Segment"}},v=S,g=t(849),w=t(31),D=Object(w.a)(v,s,_,!1,null,null,null),P=m.default=D.exports},546:function(l,m,t){"use strict";t.d(m,"a",function(){return s});function s(_,c){return c||(c=_.slice(0)),Object.freeze(Object.defineProperties(_,{raw:{value:Object.freeze(c)}}))}},588:function(l,m){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"MyQuery"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"segments"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"website"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"customers"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"created_at"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"apply_to"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:144}};t.loc.source={body:`query MyQuery {\r
  segments {\r
    id\r
    name\r
    status\r
    website\r
    customers\r
    description\r
    created_at\r
    apply_to\r
  }\r
}\r
`,name:"GraphQL request",locationOffset:{line:1,column:1}};var s={};function _(a){return a.filter(function(i){if(i.kind!=="FragmentDefinition")return!0;var r=i.name.value;return s[r]?!1:(s[r]=!0,!0)})}function c(a,i){if(a.kind==="FragmentSpread")i.add(a.name.value);else if(a.kind==="VariableDefinition"){var r=a.type;r.kind==="NamedType"&&i.add(r.name.value)}a.selectionSet&&a.selectionSet.selections.forEach(function(d){c(d,i)}),a.variableDefinitions&&a.variableDefinitions.forEach(function(d){c(d,i)}),a.definitions&&a.definitions.forEach(function(d){c(d,i)})}var b={};(function(){t.definitions.forEach(function(i){if(i.name){var r=new Set;c(i,r),b[i.name.value]=r}})})();function h(a,i){for(var r=0;r<a.definitions.length;r++){var d=a.definitions[r];if(d.name&&d.name.value==i)return d}}function x(a,i){var r={kind:a.kind,definitions:[h(a,i)]};a.hasOwnProperty("loc")&&(r.loc=a.loc);var d=b[i]||new Set,p=new Set,f=new Set;for(d.forEach(function(v){f.add(v)});f.size>0;){var S=f;f=new Set,S.forEach(function(v){if(!p.has(v)){p.add(v);var g=b[v]||new Set;g.forEach(function(w){f.add(w)})}})}return p.forEach(function(v){var g=h(a,v);g&&r.definitions.push(g)}),r}l.exports=t,l.exports.MyQuery=x(t,"MyQuery")},671:function(l,m,t){var s=t(850);s.__esModule&&(s=s.default),typeof s=="string"&&(s=[[l.i,s,""]]),s.locals&&(l.exports=s.locals);var _=t(52).default,c=_("35343986",s,!0,{sourceMap:!1})},849:function(l,m,t){"use strict";var s=t(671),_=t.n(s)},850:function(l,m,t){var s=t(51),_=s(!1);_.push([l.i,"input,option,select{padding:5px}li{display:inline-block}",""]),l.exports=_}}]);
