(window.webpackJsonp=window.webpackJsonp||[]).push([[145],{1048:function(l,p){var r={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"MyQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"returns"},arguments:[{kind:"Argument",name:{kind:"Name",value:"where"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"id"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"_eq"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}]}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"return_prefix"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"validity"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"created_at"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:140}};r.loc.source={body:`query MyQuery ($id: Int){\r
  returns (where: {id: {_eq: $id}}){\r
    id\r
    name\r
    return_prefix\r
    validity\r
    created_at\r
  }\r
}\r
`,name:"GraphQL request",locationOffset:{line:1,column:1}};var d={};function c(e){return e.filter(function(n){if(n.kind!=="FragmentDefinition")return!0;var t=n.name.value;return d[t]?!1:(d[t]=!0,!0)})}function o(e,n){if(e.kind==="FragmentSpread")n.add(e.name.value);else if(e.kind==="VariableDefinition"){var t=e.type;t.kind==="NamedType"&&n.add(t.name.value)}e.selectionSet&&e.selectionSet.selections.forEach(function(s){o(s,n)}),e.variableDefinitions&&e.variableDefinitions.forEach(function(s){o(s,n)}),e.definitions&&e.definitions.forEach(function(s){o(s,n)})}var v={};(function(){r.definitions.forEach(function(n){if(n.name){var t=new Set;o(n,t),v[n.name.value]=t}})})();function g(e,n){for(var t=0;t<e.definitions.length;t++){var s=e.definitions[t];if(s.name&&s.name.value==n)return s}}function O(e,n){var t={kind:e.kind,definitions:[g(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var s=v[n]||new Set,m=new Set,_=new Set;for(s.forEach(function(u){_.add(u)});_.size>0;){var R=_;_=new Set,R.forEach(function(u){if(!m.has(u)){m.add(u);var f=v[u]||new Set;f.forEach(function(S){_.add(S)})}})}return m.forEach(function(u){var f=g(e,u);f&&t.definitions.push(f)}),t}l.exports=r,l.exports.MyQuery=O(r,"MyQuery")},1049:function(l,p,r){"use strict";var d=r(731),c=r.n(d)},1050:function(l,p,r){var d=r(51),c=d(!1);c.push([l.i,"input,option,select{padding:5px;width:50%}li{display:inline-block}",""]),l.exports=c},1289:function(l,p,r){"use strict";r.r(p);var d=function(){var a=this,k=a.$createElement,i=a._self._c||k;return i("div",a._l(a.returns,function(y){return i("FormulateForm",{key:y.id,attrs:{method:"POST"},on:{submit:function(b){b.preventDefault()}}},[i("div",{staticClass:"table table-responsive"},[i("table",{staticClass:"table"},[i("thead",[i("tr",[i("th"),a._v(" "),i("th",{staticClass:"returnsAddOptions",attrs:{scope:"col"}},[i("li",[i("FormulateInput",{attrs:{type:"submit",label:"Save"},on:{click:a.addReturn}})],1)])])]),a._v(" "),i("tbody",[i("tr",[i("td",{staticStyle:{"text-align":"right"}},[a._v("Returns Name")]),a._v(" "),i("td",[i("FormulateInput",{attrs:{id:"returnsName",type:"returnsName",required:""}}),a._v(a._s(y.name)+`
                        `),i("p",{attrs:{for:"name"}},[a._v("Name of the return")])],1)]),a._v(" "),i("tr",[i("td",{staticStyle:{"text-align":"right"}},[a._v("Time limit of validity")]),a._v(" "),i("td",[i("FormulateInput",{attrs:{id:"returnsName",type:"returnsName",required:""}}),a._v(a._s(y.name)+`
                        `),i("p",{attrs:{for:"validity"}},[a._v("How many days after the delivery date does the customer have to return a product?")])],1)]),a._v(" "),i("tr",[i("td",{staticStyle:{"text-align":"right"}},[a._v("Returns prefix")]),a._v(" "),i("td",[i("FormulateInput",{attrs:{id:"returnsName",type:"returnsName",required:""}}),a._v(a._s(y.name)+`
                        `),i("p",{attrs:{for:"returnsPrefix"}},[a._v("Prefix used for returns name (e.g. RE00001).")])],1)])])])])])}),1)},c=[],o=r(6),v=r(546),g=r(42),O=r(158),e=r(1048),n=r.n(e),t=r(585),s=r.n(t),m,_,R=Object(O.a)(m||(m=Object(v.a)([`
  mutation delete_returns($id: Int!){
  delete_returns(where: {id: {_eq: $id}}){
    affected_rows
  }
}
`]))),u=Object(O.a)(_||(_=Object(v.a)([`
  mutation update_returns($id: Int!){
  update_returns(where: {id: {_eq: $id}}){
    affected_rows
  }
}
`]))),f={head:{name:"Edit Return"},mounted:function(){this.forceRerender()},data:function(){return{componentKey:0}},methods:{deleteReturn:function(k){var i=this;return Object(o.a)(regeneratorRuntime.mark(function y(){return regeneratorRuntime.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,i.$apollo.mutate({mutation:R,variables:{id:k.id},refetchQueries:[{query:s.a}]}).then(function(){i.$router.push({path:"../admin/sales/returns"})}).catch(function(x){return console.log(x)});case 2:case"end":return h.stop()}},y)}))()},updateReturn:function(k){var i=this;return Object(o.a)(regeneratorRuntime.mark(function y(){return regeneratorRuntime.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,i.$apollo.mutate({mutation:u,variables:{id:k.id},refetchQueries:[{query:s.a}]});case 2:case"end":return h.stop()}},y)}))()},forceRerender:function(){this.componentKey+=1}},apollo:{returns:{query:n.a,prefetch:function(k){var i=k.route;return{id:i.params.id}},variables:function(){return{id:this.$route.params.id}}}}},S=f,N=r(1049),j=r(31),E=Object(j.a)(S,d,c,!1,null,null,null),w=p.default=E.exports},546:function(l,p,r){"use strict";r.d(p,"a",function(){return d});function d(c,o){return o||(o=c.slice(0)),Object.freeze(Object.defineProperties(c,{raw:{value:Object.freeze(o)}}))}},585:function(l,p){var r={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"MyQuery"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"returns"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"return_prefix"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"validity"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"created_at"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:105}};r.loc.source={body:`query MyQuery {\r
  returns {\r
    id\r
    name\r
    return_prefix\r
    validity\r
    created_at\r
  }\r
}\r
`,name:"GraphQL request",locationOffset:{line:1,column:1}};var d={};function c(e){return e.filter(function(n){if(n.kind!=="FragmentDefinition")return!0;var t=n.name.value;return d[t]?!1:(d[t]=!0,!0)})}function o(e,n){if(e.kind==="FragmentSpread")n.add(e.name.value);else if(e.kind==="VariableDefinition"){var t=e.type;t.kind==="NamedType"&&n.add(t.name.value)}e.selectionSet&&e.selectionSet.selections.forEach(function(s){o(s,n)}),e.variableDefinitions&&e.variableDefinitions.forEach(function(s){o(s,n)}),e.definitions&&e.definitions.forEach(function(s){o(s,n)})}var v={};(function(){r.definitions.forEach(function(n){if(n.name){var t=new Set;o(n,t),v[n.name.value]=t}})})();function g(e,n){for(var t=0;t<e.definitions.length;t++){var s=e.definitions[t];if(s.name&&s.name.value==n)return s}}function O(e,n){var t={kind:e.kind,definitions:[g(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var s=v[n]||new Set,m=new Set,_=new Set;for(s.forEach(function(u){_.add(u)});_.size>0;){var R=_;_=new Set,R.forEach(function(u){if(!m.has(u)){m.add(u);var f=v[u]||new Set;f.forEach(function(S){_.add(S)})}})}return m.forEach(function(u){var f=g(e,u);f&&t.definitions.push(f)}),t}l.exports=r,l.exports.MyQuery=O(r,"MyQuery")},731:function(l,p,r){var d=r(1050);d.__esModule&&(d=d.default),typeof d=="string"&&(d=[[l.i,d,""]]),d.locals&&(l.exports=d.locals);var c=r(52).default,o=c("1040011d",d,!0,{sourceMap:!1})}}]);
