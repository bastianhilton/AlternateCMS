(window.webpackJsonp=window.webpackJsonp||[]).push([[58],{1146:function(d,v,n){"use strict";n.r(v);var r=function(){var t=this,k=t.$createElement,e=t._self._c||k;return e("div",[e("FormulateForm",{attrs:{method:"POST",enctype:"multipart/form-data"},on:{submit:function(o){o.preventDefault()}}},[e("nav",{staticClass:"navbar navbar-dark bg-dark"},[e("div",{staticClass:"container-fluid"},[e("a",{staticClass:"navbar-brand"},[e("button",{staticClass:"btn btn-warning",attrs:{type:"reset"}},[t._v("Reset")])]),t._v(" "),e("a",{staticClass:"navbar-brand"},[e("FormulateInput",{attrs:{type:"button",label:"Save Knowledgebase"},on:{click:t.addKnowledgebase}})],1)])]),t._v(" "),e("br"),t._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"col-3"},[e("div",{staticClass:"nav flex-column nav-tabs text-center",attrs:{id:"v-tabs-tab",role:"tablist","aria-orientation":"vertical"}},[e("a",{staticClass:"nav-link active",attrs:{id:"v-tabs-home-tab","data-mdb-toggle":"tab",href:"#v-tabs-home",role:"tab","aria-controls":"v-tabs-home","aria-selected":"true"}},[t._v("Create A New Knowledgebase")])])]),t._v(" "),e("div",{staticClass:"col-9"},[e("div",{staticClass:"tab-scope",attrs:{id:"v-tabs-tabContent"}},[e("div",{staticClass:"tab-pane fade show active",attrs:{id:"v-tabs-home",role:"tabpanel","aria-labelledby":"v-tabs-home-tab"}},[e("div",{staticClass:"table table-responsive"},[e("table",{staticClass:"table"},[e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"right"}},[t._v("Knowledgebase Name")]),t._v(" "),e("td",[e("FormulateInput",{attrs:{type:"text",required:""},model:{value:t.name,callback:function(o){t.name=o},expression:"name"}})],1)]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"right"}},[t._v("Content")]),t._v(" "),e("td",[e("vue-simplemde",{ref:"markdownEditor",attrs:{id:"longDescription",required:""},model:{value:t.content,callback:function(o){t.content=o},expression:"content"}})],1)]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"right"}},[t._v("Resolution")]),t._v(" "),e("td",[e("FormulateInput",{attrs:{type:"textarea"},model:{value:t.resolution,callback:function(o){t.resolution=o},expression:"resolution"}})],1)]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"right"}},[t._v("Author")]),t._v(" "),e("td",[e("FormulateInput",{attrs:{type:"text"},model:{value:t.author,callback:function(o){t.author=o},expression:"author"}})],1)]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"right"}},[t._v("Approver")]),t._v(" "),e("td",[e("FormulateInput",{attrs:{type:"text"},model:{value:t.approver,callback:function(o){t.approver=o},expression:"approver"}})],1)]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"right"}},[t._v("Revision")]),t._v(" "),e("td",[e("FormulateInput",{attrs:{type:"number"},model:{value:t.revision,callback:function(o){t.revision=o},expression:"revision"}})],1)]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"right"}},[t._v("Status")]),t._v(" "),e("td",[e("FormulateInput",{attrs:{type:"select",options:[{value:"Draft",label:"Draft"},{value:"Expired",label:"Expired"},{value:"In Review",label:"In Review"},{value:"Private",label:"Private"},{value:"Public",label:"Public"}]},model:{value:t.status,callback:function(o){t.status=o},expression:"status"}})],1)])])])])])])])])])],1)},u=[],_=n(6),p=n(546),h=n(42),y=n(25),a=n(158),i=n(577),s,l=Object(a.a)(s||(s=Object(p.a)([`
    mutation ($name: String!,$status: String!,$revision: String!,$resolution: String!,$approver: String!,$author: String!,$content: String!){
    insert_knowledgebases(objects: {name: $name,status: $status,revision: $revision,resolution: $resolution,approver: $approver,author: $author,content: $content}) {
        affected_rows
        returning {
            name
            status
            revision
            resolution
            approver
            author
            content
    }
  }
}`]))),b={data:function(){return{content:[],countries:[],thumbnail:" ",name:" ",status:" ",revision:" ",resolution:" ",approver:" ",author:" ",show:!0}},head:{title:"Add New Knowledgebase"},methods:{addKnowledgebase:function(k){var e=this;return Object(_.a)(regeneratorRuntime.mark(function o(){var $,S,O,j,E,F,C,D;return regeneratorRuntime.wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return $=k.target,S=e.name,O=e.status,j=e.revision,E=e.resolution,F=e.approver,C=e.author,D=e.content,g.next=10,e.$apollo.mutate({mutation:l,variables:{name:S,status:O,revision:j,resolution:E,approver:F,author:C,content:D},update:function(N,P){var I=P.data.insertKnowledgebases;try{var A=I.returning;console.log(A),N.writeQuery({query:i.knowledgebases})}catch(K){console.error(K)}}}).then(function(){e.$router.push({path:"../system/knowledgebases"})}).catch(function(R){return console.log(R)});case 10:e.name=" ",e.status=" ",e.revision=" ",e.resolution=" ",e.approver=" ",e.author=" ",e.content=" ";case 17:case"end":return g.stop()}},o)}))()}}},m=b,w=n(811),c=n(31),f=Object(c.a)(m,r,u,!1,null,null,null),x=v.default=f.exports},546:function(d,v,n){"use strict";n.d(v,"a",function(){return r});function r(u,_){return _||(_=u.slice(0)),Object.freeze(Object.defineProperties(u,{raw:{value:Object.freeze(_)}}))}},577:function(d,v){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"MyQuery"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"knowledgebase"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"date_modified"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"created_at"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"approver"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"resolution"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"revision"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:178}};n.loc.source={body:`query MyQuery {\r
  knowledgebase {\r
    id\r
    date_modified\r
    created_at\r
    content\r
    author\r
    approver\r
    name\r
    resolution\r
    revision\r
    status\r
  }\r
}\r
`,name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};function u(a){return a.filter(function(i){if(i.kind!=="FragmentDefinition")return!0;var s=i.name.value;return r[s]?!1:(r[s]=!0,!0)})}function _(a,i){if(a.kind==="FragmentSpread")i.add(a.name.value);else if(a.kind==="VariableDefinition"){var s=a.type;s.kind==="NamedType"&&i.add(s.name.value)}a.selectionSet&&a.selectionSet.selections.forEach(function(l){_(l,i)}),a.variableDefinitions&&a.variableDefinitions.forEach(function(l){_(l,i)}),a.definitions&&a.definitions.forEach(function(l){_(l,i)})}var p={};(function(){n.definitions.forEach(function(i){if(i.name){var s=new Set;_(i,s),p[i.name.value]=s}})})();function h(a,i){for(var s=0;s<a.definitions.length;s++){var l=a.definitions[s];if(l.name&&l.name.value==i)return l}}function y(a,i){var s={kind:a.kind,definitions:[h(a,i)]};a.hasOwnProperty("loc")&&(s.loc=a.loc);var l=p[i]||new Set,b=new Set,m=new Set;for(l.forEach(function(c){m.add(c)});m.size>0;){var w=m;m=new Set,w.forEach(function(c){if(!b.has(c)){b.add(c);var f=p[c]||new Set;f.forEach(function(x){m.add(x)})}})}return b.forEach(function(c){var f=h(a,c);f&&s.definitions.push(f)}),s}d.exports=n,d.exports.MyQuery=y(n,"MyQuery")},652:function(d,v,n){var r=n(812);r.__esModule&&(r=r.default),typeof r=="string"&&(r=[[d.i,r,""]]),r.locals&&(d.exports=r.locals);var u=n(52).default,_=u("2f188abd",r,!0,{sourceMap:!1})},811:function(d,v,n){"use strict";var r=n(652),u=n.n(r)},812:function(d,v,n){var r=n(51),u=r(!1);u.push([d.i,"input,option,select{padding:5px}",""]),d.exports=u}}]);
