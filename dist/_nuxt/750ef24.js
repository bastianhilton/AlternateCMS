(window.webpackJsonp=window.webpackJsonp||[]).push([[83],{1170:function(c,p,i){"use strict";i.r(p);var o=function(){var s=this,r=s.$createElement,t=s._self._c||r;return t("div",[t("FormulateForm",{attrs:{method:"POST",enctype:"multipart/form-data"},on:{submit:function(_){_.preventDefault()}}},[t("nav",{staticClass:"navbar navbar-dark bg-dark"},[t("div",{staticClass:"container-fluid"},[t("a",{staticClass:"navbar-brand"},[t("button",{staticClass:"btn btn-warning",attrs:{type:"reset"}},[s._v("Reset")])]),s._v(" "),t("a",{staticClass:"navbar-brand"},[t("FormulateInput",{attrs:{type:"button",label:"Save Survey"},on:{click:s.addSurvey}})],1)])]),s._v(" "),t("br"),s._v(" "),t("div",{staticClass:"row"},[t("div",{staticClass:"col-3"},[t("div",{staticClass:"nav flex-column nav-tabs text-center",attrs:{id:"v-tabs-tab",role:"tablist","aria-orientation":"vertical"}},[t("a",{staticClass:"nav-link active",attrs:{id:"v-tabs-home-tab","data-mdb-toggle":"tab",href:"#v-tabs-home",role:"tab","aria-controls":"v-tabs-home","aria-selected":"true"}},[s._v("Create A New Survey")])])]),s._v(" "),t("div",{staticClass:"col-9"},[t("div",{staticClass:"tab-scope",attrs:{id:"v-tabs-tabContent"}},[t("div",{staticClass:"tab-pane fade show active",attrs:{id:"v-tabs-home",role:"tabpanel","aria-labelledby":"v-tabs-home-tab"}},[t("div",{staticClass:"table table-responsive"},[t("table",{staticClass:"table"},[t("tbody",[t("tr",[t("td",{staticStyle:{"text-align":"right"}},[s._v("Survey Name")]),s._v(" "),t("td",[t("FormulateInput",{attrs:{type:"text",required:""},model:{value:s.name,callback:function(_){s.name=_},expression:"name"}})],1)]),s._v(" "),t("tr",[t("td",{staticStyle:{"text-align":"right"}},[s._v("Categories")]),s._v(" "),t("td",[t("select",{directives:[{name:"model",rawName:"v-model",value:s.categories,expression:"categories"}],staticClass:"form-category",attrs:{id:"category",name:"template"},on:{change:function(_){var S=Array.prototype.filter.call(_.target.options,function(x){return x.selected}).map(function(x){var F="_value"in x?x._value:x.value;return F});s.categories=_.target.multiple?S:S[0]}}},s._l(s.categories,function(_){return t("option",{key:_,domProps:{value:_}},[s._v(`
                          `+s._s(_.name))])}),0)])]),s._v(" "),t("tr",[t("td",[t("div",{staticClass:"form-wrapper"},[t("FormulateForm",{model:{value:s.formData,callback:function(_){s.formData=_},expression:"formData"}},[t("FormulateInput",{attrs:{type:"group",name:"surveys",repeatable:!0,label:"Questions","add-label":"+ Add Question",validation:"required"}},[t("div",{staticClass:"survey"},[t("FormulateInput",{attrs:{name:"name",validation:"required",label:"Choice One"}})],1)]),s._v(" "),t("FormulateInput",{attrs:{type:"radio",label:"Select your payment method",name:"payment",options:{paypal:"PayPal",credit:"Credit Card"}}})],1)],1)])])])])])])])])])])],1)},m=[],u=i(6),g=i(546),b=i(42),w=i(13),e=i(59),n=i(25),a=i(158),d=i(612),y=i(549),v=i.n(y),h,l=Object(a.a)(h||(h=Object(g.a)([`
    mutation ($answer:String! $assigned_to:String! $created_at:String! $description:String! $dissatisfied_text:String! $name:String! $neither_text:String! $question:String! $satisfied_text:String! $status:String! $submit_text:String!){
    insert_surveys(objects: {answer: $answer, assigned_to: $assigned_to, created_at: $created_at, description: $description, dissatisfied_text: $dissatisfied_text, name: $name, neither_text: $neither_text, question: $question, satisfied_text: $satisfied_text, status: $status, submit_text: $submit_text}) {
        affected_rows
        returning {
            answer
            assigned_to
            created_at
            description
            dissatisfied_text
            name
            neither_text
            question
            satisfied_text
            status
            submit_text
            }
  }
}`]))),f={data:function(){return{answer:" ",assigned_to:" ",created_at:" ",description:" ",dissatisfied_text:" ",name:" ",neither_text:" ",question:" ",satisfied_text:" ",status:" ",submit_text:" "}},methods:{addSurvey:function(){var r=this;return Object(u.a)(regeneratorRuntime.mark(function t(){var _,S,x,F,j,C,D,E,$,N,R;return regeneratorRuntime.wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return _=r.answer,S=r.assigned_to,x=r.created_at,F=r.description,j=r.dissatisfied_text,C=r.name,D=r.neither_text,E=r.question,$=r.satisfied_text,N=r.status,R=r.submit_text,O.next=13,r.$apollo.mutate({mutation:l,variables:{answer:_,assigned_to:S,created_at:x,description:F,dissatisfied_text:j,name:C,neither_text:D,question:E,satisfied_text:$,status:N,submit_text:R},update:function(A,q){var L=q.data.insertCategories;try{var T=L.returning;console.log(T),A.writeQuery({query:d.surveys})}catch(I){console.error(I)}}}).then(function(){r.$router.push({path:"../reports/surveys"})}).catch(function(P){return console.log(P)});case 13:r.answer=" ",r.assigned_to=" ",r.created_at=" ",r.description=" ",r.dissatisfied_text=" ",r.name=" ",r.neither_text=" ",r.question=" ",r.satisfied_text=" ",r.status=" ",r.submit_text=" ";case 24:case"end":return O.stop()}},t)}))()}},apollo:{categories:{prefetch:!0,query:v.a}},head:{title:"Add New Survey"}},k=f,z=i(859),M=i(31),Q=Object(M.a)(k,o,m,!1,null,null,null),V=p.default=Q.exports},546:function(c,p,i){"use strict";i.d(p,"a",function(){return o});function o(m,u){return u||(u=m.slice(0)),Object.freeze(Object.defineProperties(m,{raw:{value:Object.freeze(u)}}))}},549:function(c,p){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"MyQuery"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"categories"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"image"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"meta_description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"meta_keywords"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"meta_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"meta_title"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:154}};i.loc.source={body:`query MyQuery {\r
  categories {\r
    id\r
    name\r
    content\r
    image\r
    meta_description\r
    meta_keywords\r
    meta_url\r
    meta_title\r
  }\r
}\r
`,name:"GraphQL request",locationOffset:{line:1,column:1}};var o={};function m(e){return e.filter(function(n){if(n.kind!=="FragmentDefinition")return!0;var a=n.name.value;return o[a]?!1:(o[a]=!0,!0)})}function u(e,n){if(e.kind==="FragmentSpread")n.add(e.name.value);else if(e.kind==="VariableDefinition"){var a=e.type;a.kind==="NamedType"&&n.add(a.name.value)}e.selectionSet&&e.selectionSet.selections.forEach(function(d){u(d,n)}),e.variableDefinitions&&e.variableDefinitions.forEach(function(d){u(d,n)}),e.definitions&&e.definitions.forEach(function(d){u(d,n)})}var g={};(function(){i.definitions.forEach(function(n){if(n.name){var a=new Set;u(n,a),g[n.name.value]=a}})})();function b(e,n){for(var a=0;a<e.definitions.length;a++){var d=e.definitions[a];if(d.name&&d.name.value==n)return d}}function w(e,n){var a={kind:e.kind,definitions:[b(e,n)]};e.hasOwnProperty("loc")&&(a.loc=e.loc);var d=g[n]||new Set,y=new Set,v=new Set;for(d.forEach(function(l){v.add(l)});v.size>0;){var h=v;v=new Set,h.forEach(function(l){if(!y.has(l)){y.add(l);var f=g[l]||new Set;f.forEach(function(k){v.add(k)})}})}return y.forEach(function(l){var f=b(e,l);f&&a.definitions.push(f)}),a}c.exports=i,c.exports.MyQuery=w(i,"MyQuery")},612:function(c,p){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"MyQuery"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"surveys"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"neither_text"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"question"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"satisfied_text"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"submit_text"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"dissatisfied_text"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"created_at"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"assigned_to"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"answer"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:222}};i.loc.source={body:`query MyQuery {\r
  surveys {\r
    id\r
    name\r
    neither_text\r
    question\r
    satisfied_text\r
    status\r
    submit_text\r
    dissatisfied_text\r
    description\r
    created_at\r
    assigned_to\r
    answer\r
  }\r
}\r
`,name:"GraphQL request",locationOffset:{line:1,column:1}};var o={};function m(e){return e.filter(function(n){if(n.kind!=="FragmentDefinition")return!0;var a=n.name.value;return o[a]?!1:(o[a]=!0,!0)})}function u(e,n){if(e.kind==="FragmentSpread")n.add(e.name.value);else if(e.kind==="VariableDefinition"){var a=e.type;a.kind==="NamedType"&&n.add(a.name.value)}e.selectionSet&&e.selectionSet.selections.forEach(function(d){u(d,n)}),e.variableDefinitions&&e.variableDefinitions.forEach(function(d){u(d,n)}),e.definitions&&e.definitions.forEach(function(d){u(d,n)})}var g={};(function(){i.definitions.forEach(function(n){if(n.name){var a=new Set;u(n,a),g[n.name.value]=a}})})();function b(e,n){for(var a=0;a<e.definitions.length;a++){var d=e.definitions[a];if(d.name&&d.name.value==n)return d}}function w(e,n){var a={kind:e.kind,definitions:[b(e,n)]};e.hasOwnProperty("loc")&&(a.loc=e.loc);var d=g[n]||new Set,y=new Set,v=new Set;for(d.forEach(function(l){v.add(l)});v.size>0;){var h=v;v=new Set,h.forEach(function(l){if(!y.has(l)){y.add(l);var f=g[l]||new Set;f.forEach(function(k){v.add(k)})}})}return y.forEach(function(l){var f=b(e,l);f&&a.definitions.push(f)}),a}c.exports=i,c.exports.MyQuery=w(i,"MyQuery")},676:function(c,p,i){var o=i(860);o.__esModule&&(o=o.default),typeof o=="string"&&(o=[[c.i,o,""]]),o.locals&&(c.exports=o.locals);var m=i(52).default,u=m("f1dc819a",o,!0,{sourceMap:!1})},859:function(c,p,i){"use strict";var o=i(676),m=i.n(o)},860:function(c,p,i){var o=i(51),m=o(!1);m.push([c.i,"input,option,select{padding:5px}li{display:inline-block}",""]),c.exports=m}}]);
